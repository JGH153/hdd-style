$tooltip-tip-size: 10px;
$tooltip-padding: 0.5rem 1rem;
$tooltip-width: 150px;
$tooltip-menu-side-padding: 0.75rem;
$tooltip-menu-padding: 0.5rem 1rem;
$tooltip-tip-right-offset: 1rem;
$tooltip-tip-left-offset: 1rem;
$tooltip-tip--offset: 1rem;
$tooltip-border-radius: $border-radius;

.hdd-tooltip {
  // Variable containing '&' to jump to current parent inside a child class.
  $this: &;

  position: relative;
  // display: inline-block;


  &:hover:not(.no-hover) {
    #{$this}_content {
      @extend .hdd-tooltip_content, .is-active;
    }
  }

  &_content {
    //.is-p is font-properties, defined in typography.
    @extend .is-p;
    $content-color: var(--hdd-color-grey-dark);
    $content-text-color: var(--hdd-color-contrast-font-color);

    display: inline-block;
    position: absolute;
    background: var(--hdd-color-grey-dark);
    color: var(--hdd-color-contrast-font-color);
    text-align: left;
    box-shadow: $shadow-strong;
    z-index: -1;
    opacity: 0;
    top: calc(100% + #{$tooltip-tip-size});
    right: 0;
    left: 50%;
    min-width: $tooltip-width;
    width:fit-content;
    margin: auto;
    padding: 10px var(--hdd-spacing-2); 
    border-radius: $tooltip-border-radius;
    transform: translateX(-50%);
    transition: opacity $medium-transition $transition-cubic, z-index $medium-transition step-end;


    &::before {
      content: '';
      display: block;
      position: absolute;
      top: -$tooltip-tip-size;
      right: 0;
      left: 0;
      width: 0;
      height: 0;
      margin: auto;
      border-right: $tooltip-tip-size solid transparent;
      border-bottom: $tooltip-tip-size solid $content-color;
      border-left: $tooltip-tip-size solid transparent;
    }

    &.is-light {
      background: var(--hdd-color-white);
      color: var(--hdd-color-font-color);

      &::before {
      border-bottom: $tooltip-tip-size solid var(--hdd-color-white);
      }
    }

    &.is-active {
      z-index: 90;
      transition: opacity $medium-transition $transition-cubic, z-index $medium-transition step-start;
      opacity: 1;
    }

    &.is-leaning-left {
      left: calc(50% + #{$tooltip-tip-left-offset} + #{$tooltip-tip-size});
      transform: translateX(-100%);

      &::before {
        right: $tooltip-tip-right-offset;
        left: auto;
      }
    }

    &.is-leaning-right {
      left: calc(50% - #{$tooltip-tip-left-offset} - #{$tooltip-tip-size});
      transform: translateX(0);

      &::before {
        right: auto;
        left: $tooltip-tip-left-offset;
      }
    }
  }
}